#路由器安全
密码漏洞:
1.WEP加密弱,不在推荐使用
2.pin码破解,开启WPS功能的路由器,使用pin码可以登录加密wifi而不需要密码.(PIN码:临时与产品相关，进行一次配对.)
3.用户使用默认密码管理理由器，存在弱密码等.
路由器web漏洞:路由器可以由web页面配置路由器,web漏洞攻击也可以攻击路由器
路由器后门漏洞:路由器开发人员为调试，测试,开发了超级管理权限被利用.
路由器溢出漏洞:缓冲区溢出，溢出数据可以覆盖返回地址，劫持程序的运行
BusyBox:集成了一百多个最常用linux命令和工具结合到一个单一的可执行文件。集合可以替代大部分常用工具,提供了一个比较完善的环境，可以适用于任何小的嵌入式系统.busybox --help,查看支持命令.
NFC:近场通信,RFID演变而来，10cm内交换数据，使用了信号衰减技术，传输距离低于RFID 


#网络知识
移动通信信道有业务信道(携带数据)和控制信道(管理的设备接入，使用，切换，切断与移动网络连接)
GSM中SMS业务是后来加入的工作在控制信道上
软件开发实现一个功能有多种多样手段，而实现手段会留下漏洞,因为实现定义的是有限的正常使用，非正常使用多种多样(注入，溢出等).
vSwitch：虚拟交换机，通过软件方式实现交换机功能，可以适用于任何小的嵌入式系统为本物理机上的多台VM提供二层网络接入
MD5:消息摘要算法，Hash计算出一个128位数值，很难找到碰撞情况，任意修改一个字节也会使MD5值大大不同.
SSL:工作在TCP之上，为Web应用建立一个安全的传输通道。
入侵检测:
	1.在关键点收集信息。
	2.分析收集信息，结合多点判定。
	3.响应
字典攻击:字典，备选口令集，包含常见弱口令，一个一个试探.
arp代理:路由器收到A主机对B的arp请求后，如果B主机在自己连接的某个网络中，则不转法arp请求，而向A发送自己的MAC，因此A->B数据，实质A->router,然后由router->B
vlan:virtual local area network
	在二层网络中划分多个广播域，不同广播域相互隔离，一个广播域对应一个用户组,不同广播域通信需要经过路由器转发，vlan就是一个这样的广播域
	物理位置不同的主机在相同vlan中则可以互通
	物理位置相同同的主机在不同vlan不可通信
	在以太网帧中增加vlan标签，基于相同vlan标签的在同一个广播域传送
隧道技术:将IPv6封装到IPv4报文中，经IPv4海洋传送到IPv6小岛

NIC:网卡工作与物理，链路层,有唯一MAC标识
中继器:物理层，放大衰减信号，延长网络长度.
网桥:工作在链路层，连接两个LAN,根据MAC地址转发帧,可以用来划分网段.
交换机:发送数据到目标MAC对应端口，不存在才广播;交换机可以划分网段，对照MAC表，过滤转发.
路由器:连接不同网络，划分子网,路由选择.
网关(关口):本地数据跨过||网关||->走出本地网络.
	协议网关:连接不同协议网络，转化协议数据格式.
	应用网关:为某种应用设置，将数据格式转化，实现数据交流.
	安全网关:过滤包，授权等.

TCP/IP协议中有很多不同功能的数据包用于特殊的功能，人为制造产生这些数据包可以起到欺骗作用.(hping2可以制造各种包的工具)
Arp欺骗:认为制造arp应答包，发送给目标主机.
ICMP协议:使用IP协议传输数据,提供网络层传输的故障诊断信息。
ICMP重定向:制造一个ICMP重定向报文，要求主机改变路由路径.
VLAN;可以在逻辑上将网络分段，物理上在一个局域网中的网络可以使用vlan划分为不同局域网，不同vlan通过网络层(路由)通信，不同的vlan在数据链路层断开，广播域缩小
ssh公私钥认证方式:在客户端上创建一对公私钥(公钥文件：~/.ssh/id_rsa.pub； 私钥文件：~/.ssh/id_rsa)。然后把公钥放到服务器上(~/.ssh/authorized_keys)自己保留好私钥.在使用ssh登录时,ssh程序会发送私钥去和服务器上的公钥做匹配.如果匹配成功就可以登录了。SSH会把你每个你访问过计算机的公钥(public key)都记录在~/.ssh/known_hosts。当下次访问相同计算机时，OpenSSH会核对公钥。如果公钥不同，OpenSSH会发出警告， 避免你受到DNS Hijack之类的攻击。
操作系统指纹;不同操作系统在实现TCP/IP协议时一些行为，默认参数设置有所不同，根据特殊参数，行为特点综合来推测操作系统类型。


#密码技术
单向散列函数:Hash计算消息摘要，生成信息指纹，是一种保证数据完整性的技术，不是机密性.
隐写术:隐藏消息本身，如图片数字水印等.
密码与密钥分开加密不依赖与隐藏加密算法，加密算法是公开的，密钥是精华。密钥管理很重要。
流密码(序列密码)：模仿一次性密码本(香农证明是不可破译的)的一次一密，以一个密钥开始(可视为随机种子)，生成信息一系列密钥流(伪随机序列)，
密码算法:
	DES:64bit分组，基本结构是Feistel网络，可以加密任意轮数，每一轮使用不同的子密钥，解密过程与加密过程使用使用子密钥顺序相反,计算方法一致.
		16轮DES加密:首先要生成一套加密子密钥，从用户处取得一个64位长的密码口令，然后通过等分、移位、选取和迭代形成一套16个加密子密钥，分别供每一轮运算中使用。在每一轮中，密钥位移位，然后再从密钥的56位中选出48位。通过一个扩展置换将数据的右半部分扩展成48位，并通过一个异或操作替代成新的48位数据，再将其压缩置换成32位。这四步运算构成了函数f。然后，通过另一个异或运算，函数f的输出与左半部分结合，其结果成为新的右半部分，原来的右半部分成为新的左半部分。将该操作重复16次.
	3DES:使用不同密钥的DES，加密，解密，加密，三次，三次密钥相同时，等于使用了DES，兼容DES.A
	AES.Rijndael:128bit一组，key长度理论可以是32bit为单位，在128->256选择，AES规格只有128,192,256三种.算法使用多轮加密,一轮操作包含:
	字节替换(Byte值为索引从一个coodbook中替换另一个为值)，行平移，列混合，轮密钥xor.
	分组密码分组迭代方式为分组密码加密模式，CBC，CTR，推荐使用.EBC安全性最差。
	CBC:链式加密，明文分组加密后与上一组密文分组xor为最终密文分组
	CTR:对计数器加密生成密钥与明文异或，可视为模拟了一次性密码本生成随机序列的过程，CTR是流密码，支持并行加密解密。
离散对数:A^(B) mod C=D，A，C，D已知下求B是离散对数.
非对称加密:速度远低于对称密码
	RSA:
		加密:Y=X^E mod N public key is (E,N)
		解密:X=Y^D mod N private key is (D,N)
混合密码系统 = 非对称+对称:非对称加密速度较低，混合密码系统使用非对称加密密钥后传递给发送方，然后使用对称加密加密通信内容.
单向散列Hash:生成消息指纹，验证文件是否被篡改.可以保证消息完整性，但不能认证对方身份.
	Hash函数需要满足:
		1.任意长消息x,Hash(x)长度固定，
		2.快速计算
		3.消息不同,散列值不同,抗碰撞.
		4.单向性，无法反算.

	MD4,MD5:128bit的hash值，抗碰撞已经被攻破，已经不安全.
	SHA-1:160bit，抗碰撞被攻破.
	SHA-2:有256,384,512三种，未被攻破

MAC:是一种与密钥关联的值，可以检验完整性和认证身份.MAC实现，可以使用Hash算法，分组密码CBC模式等。加入了密钥可以认证身份，而任意消息内容更改会引起生成MAC值的改变，验证一致性.MAC无法解决不可否认，以及向第三方证明问题.
MAC重放攻击:截取消息，重复发送。如保存转账消息,重放则实现了多次转账.防御:消息中加入序号或时间戳或加入随机值保证识别消息的重复性.
数字

数字签名:识别篡改和伪装且可以防止否认.
	数字签名，逆向使用非对称加密。用私钥加密消息散列值，进行签名。只有签名人持有自己的私钥，使用它的公钥解密hash值，验证签名.使用公钥来验证身份，因此需要包装使用的公钥是正确的公钥。对公钥施加签名，得到的就是公钥证书.
	因为任何人都可以落款声称她/他就是你，因此公钥必须向接受者信任的人（身份认证机构）来注册.
	防止别人冒充你(如A生成一对公-私密钥，声明自己是B，而A使用了自己的私钥签名，别人使用A的公钥解密，但是A现在被以为是B的身份)

公钥证书:为保证用于验证身份的公钥是被验证人的公钥，防范中间人攻击，因此需要公钥证书。证书记录了姓名，组织，邮箱，地址等个人信息，以及属于此人的公钥，并有认证机构，来施加数字签名。对公钥的签名，保证公钥的安全性，是一个可信的第三方为认证机构。
	被验证人B需要在第三方机构注册证书，验证人A从第三方获得由第三方签名保证的包含B公钥的证书.数字签名合法性被保证，可以防范中间人攻击.
	对证书的攻击：
		注册相似人名，混淆人，而不是计算机.
		窃取认证机构私钥,认证机构私钥泄漏，则认证机构不在安全。
		伪装认证机构，要保证认证机构可信，需要留心证书是由哪个认证机构颁发的.


密钥管理:
	密钥生成:生成密钥
	配送密钥:公钥加密传输，D-H交换(没有交换密钥，公开交换一些信息，计算出相同的密钥，用于对称加密密钥协商).
	更新密钥:及时更换密钥,可以使用密钥散列值，作为下一个密钥.
	保存密钥:用另一个密钥加密会话密钥.

随机数:随机数大量运用于密码技术.
	1.随机性，不存在统计偏差，完全杂乱的数据
	2.不可预测性，不能从过去推测下一个数字
	3.不可重现性,除非保存数列，否则，不会重复出现。
	具备1.弱伪随机数，具备1.2.强伪随机数，具备1.2.3真随机数。密码学要求至少为强伪随机数.
	生成方法:
	1.利用单向散列函数生成,单向散列函数，单向性.内部状态改变，不能被预测.
		counter=seed;
		while(true):
			伪随机数=单向Hash(counter);
			counter++;
	2.密码法:利用密码法，计数器自增，计数值作为明文，被加密.机密性，所以不可预测.





